# Menu (ãƒ¡ãƒ‹ãƒ¥ãƒ¼) ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ã‚«ãƒ†ã‚´ãƒª:** Navigation
**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/components/navigation/menu.yaml`
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:** âœ… å®Ÿè£…æ¸ˆã¿ (Phase 4 Option C)

---

## æ¦‚è¦

ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ ã§ã™ã€‚ã‚°ãƒ«ãƒ¼ãƒ—ãƒ˜ãƒƒãƒ€ãƒ¼ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼è¡¨ç¤ºã€ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã€å±é™ºãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãªã©ã€è±Šå¯Œãªæ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

### ç”¨é€”

- ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆã‚±ãƒãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
- ã‚»ãƒ¬ã‚¯ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆé¸æŠè‚¢ã®è¡¨ç¤ºï¼‰

---

## ã‚µã‚¤ã‚ºãƒãƒªã‚¢ãƒ³ãƒˆ

### Compact (ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ)

å¯†åº¦ã®é«˜ã„ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‚å¤šãã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤ºã™ã‚‹å ´åˆã«é©ã—ã¦ã„ã¾ã™ã€‚

- ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: 0.75rem (12px)
- ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°: å‚ç›´ 0.25rem / æ°´å¹³ 0.5rem
- æœ€å°é«˜ã•: 32px

### Default (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)

æ¨™æº–çš„ãªã‚µã‚¤ã‚ºã€‚å¤šãã®å ´é¢ã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

- ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: 0.875rem (14px)
- ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°: å‚ç›´ 0.5rem / æ°´å¹³ 0.75rem
- æœ€å°é«˜ã•: 40px

### Comfortable (ã‚†ã£ãŸã‚Š)

ã‚†ã¨ã‚Šã®ã‚ã‚‹ã‚µã‚¤ã‚ºã€‚ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ã«é©ã—ã¦ã„ã¾ã™ã€‚

- ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: 1rem (16px)
- ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°: å‚ç›´ 0.75rem / æ°´å¹³ 1rem
- æœ€å°é«˜ã•: 48px

---

## ãƒˆãƒ¼ã‚¯ãƒ³ä¸€è¦§

### ã‚³ãƒ³ãƒ†ãƒŠ

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.container.background` | `{background.primary}` | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®èƒŒæ™¯è‰² |
| `component.menu.container.border.width` | `{border.width.1}` | ã‚³ãƒ³ãƒ†ãƒŠã®ãƒœãƒ¼ãƒ€ãƒ¼å¹… |
| `component.menu.container.border.color` | `{border.default}` | ã‚³ãƒ³ãƒ†ãƒŠã®ãƒœãƒ¼ãƒ€ãƒ¼è‰² |
| `component.menu.container.border.radius` | `{border.radius.md}` | ã‚³ãƒ³ãƒ†ãƒŠã®è§’ä¸¸ |
| `component.menu.container.shadow` | `{shadow.lg}` | ã‚³ãƒ³ãƒ†ãƒŠã®ã‚·ãƒ£ãƒ‰ã‚¦ |
| `component.menu.container.padding.vertical` | `{spacing.2}` | å‚ç›´ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° (0.5rem) |
| `component.menu.container.padding.horizontal` | `{spacing.0}` | æ°´å¹³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° |
| `component.menu.container.minWidth` | `{spacing.48}` | æœ€å°å¹… (12rem/192px) |
| `component.menu.container.maxHeight` | `400px` | æœ€å¤§é«˜ã• |
| `component.menu.container.overflow` | `auto` | ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼æ™‚ã®æŒ™å‹• |
| `component.menu.zIndex` | `1000` | z-indexï¼ˆé‡ãªã‚Šé †ï¼‰ |

### ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ 

#### ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.item.padding.vertical` | `{spacing.2}` | å‚ç›´ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° (0.5rem) |
| `component.menu.item.padding.horizontal` | `{spacing.3}` | æ°´å¹³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° (0.75rem) |

#### ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.item.fontSize` | `{font.size.sm}` | ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º (0.875rem) |
| `component.menu.item.fontWeight` | `{font.weight.normal}` | ãƒ•ã‚©ãƒ³ãƒˆã‚¦ã‚§ã‚¤ãƒˆ |
| `component.menu.item.lineHeight` | `{font.lineHeight.normal}` | è¡Œé«˜ |

#### èƒŒæ™¯è‰²

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.item.background.default` | `transparent` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®èƒŒæ™¯è‰² |
| `component.menu.item.background.hover` | `{background.secondary}` | ãƒ›ãƒãƒ¼æ™‚ã®èƒŒæ™¯è‰² |
| `component.menu.item.background.active` | `{primary.subtle}` | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ã®èƒŒæ™¯è‰² |
| `component.menu.item.background.focus` | `{background.secondary}` | ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®èƒŒæ™¯è‰² |
| `component.menu.item.background.disabled` | `transparent` | ç„¡åŠ¹çŠ¶æ…‹ã®èƒŒæ™¯è‰² |

#### ãƒ†ã‚­ã‚¹ãƒˆè‰²

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.item.text.default` | `{foreground.primary}` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ†ã‚­ã‚¹ãƒˆè‰² |
| `component.menu.item.text.hover` | `{foreground.primary}` | ãƒ›ãƒãƒ¼æ™‚ã®ãƒ†ã‚­ã‚¹ãƒˆè‰² |
| `component.menu.item.text.active` | `{primary.active}` | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ã®ãƒ†ã‚­ã‚¹ãƒˆè‰² |
| `component.menu.item.text.disabled` | `{foreground.tertiary}` | ç„¡åŠ¹çŠ¶æ…‹ã®ãƒ†ã‚­ã‚¹ãƒˆè‰² |

#### é«˜ã•ãƒ»ã‚«ãƒ¼ã‚½ãƒ«

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.item.minHeight.default` | `{spacing.10}` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æœ€å°é«˜ã• (2.5rem) |
| `component.menu.item.minHeight.compact` | `{spacing.8}` | ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã®æœ€å°é«˜ã• (2rem) |
| `component.menu.item.minHeight.comfortable` | `{spacing.12}` | ã‚†ã£ãŸã‚Šã®æœ€å°é«˜ã• (3rem) |
| `component.menu.item.cursor.default` | `pointer` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚«ãƒ¼ã‚½ãƒ« |
| `component.menu.item.cursor.disabled` | `not-allowed` | ç„¡åŠ¹çŠ¶æ…‹ã®ã‚«ãƒ¼ã‚½ãƒ« |

### ã‚¢ã‚¤ã‚³ãƒ³

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.icon.size` | `{spacing.4}` | ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚µã‚¤ã‚º (1rem) |
| `component.menu.icon.gap` | `{spacing.3}` | ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ†ã‚­ã‚¹ãƒˆã®é–“éš” |
| `component.menu.icon.color.default` | `{foreground.secondary}` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¢ã‚¤ã‚³ãƒ³è‰² |
| `component.menu.icon.color.hover` | `{foreground.primary}` | ãƒ›ãƒãƒ¼æ™‚ã®ã‚¢ã‚¤ã‚³ãƒ³è‰² |
| `component.menu.icon.color.active` | `{primary.default}` | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ã®ã‚¢ã‚¤ã‚³ãƒ³è‰² |

### ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.check.size` | `{spacing.4}` | ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®ã‚µã‚¤ã‚º (1rem) |
| `component.menu.check.color` | `{primary.default}` | ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®è‰² |
| `component.menu.check.marginRight` | `{spacing.3}` | å³ãƒãƒ¼ã‚¸ãƒ³ (0.75rem) |

### ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.shortcut.fontSize` | `{font.size.xs}` | ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º (0.75rem) |
| `component.menu.shortcut.color` | `{foreground.tertiary}` | ãƒ†ã‚­ã‚¹ãƒˆè‰² |
| `component.menu.shortcut.marginLeft` | `{spacing.4}` | å·¦ãƒãƒ¼ã‚¸ãƒ³ (1rem) |
| `component.menu.shortcut.padding` | `{spacing.1} {spacing.2}` | ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° |
| `component.menu.shortcut.background` | `{background.secondary}` | èƒŒæ™¯è‰² |
| `component.menu.shortcut.borderRadius` | `{border.radius.sm}` | è§’ä¸¸ |

### ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼çŸ¢å°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.arrow.size` | `{spacing.4}` | çŸ¢å°ã®ã‚µã‚¤ã‚º (1rem) |
| `component.menu.arrow.color` | `{foreground.tertiary}` | çŸ¢å°ã®è‰² |
| `component.menu.arrow.marginLeft` | `auto` | å·¦ãƒãƒ¼ã‚¸ãƒ³ï¼ˆå³å¯„ã›ï¼‰ |

### åŒºåˆ‡ã‚Šç·š

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.divider.height` | `1px` | åŒºåˆ‡ã‚Šç·šã®é«˜ã• |
| `component.menu.divider.background` | `{border.default}` | åŒºåˆ‡ã‚Šç·šã®èƒŒæ™¯è‰² |
| `component.menu.divider.margin.vertical` | `{spacing.2}` | å‚ç›´ãƒãƒ¼ã‚¸ãƒ³ (0.5rem) |
| `component.menu.divider.margin.horizontal` | `{spacing.0}` | æ°´å¹³ãƒãƒ¼ã‚¸ãƒ³ |

### ã‚°ãƒ«ãƒ¼ãƒ—ãƒ˜ãƒƒãƒ€ãƒ¼

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.group.header.padding.vertical` | `{spacing.2}` | å‚ç›´ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° (0.5rem) |
| `component.menu.group.header.padding.horizontal` | `{spacing.3}` | æ°´å¹³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° (0.75rem) |
| `component.menu.group.header.fontSize` | `{font.size.xs}` | ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º (0.75rem) |
| `component.menu.group.header.fontWeight` | `{font.weight.semibold}` | ãƒ•ã‚©ãƒ³ãƒˆã‚¦ã‚§ã‚¤ãƒˆ |
| `component.menu.group.header.color` | `{foreground.tertiary}` | ãƒ†ã‚­ã‚¹ãƒˆè‰² |
| `component.menu.group.header.textTransform` | `uppercase` | ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ› |
| `component.menu.group.header.letterSpacing` | `0.05em` | å­—é–“ |

### å±é™ºãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.danger.text.default` | `{error.default}` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ†ã‚­ã‚¹ãƒˆè‰² |
| `component.menu.danger.text.hover` | `{foreground.inverse}` | ãƒ›ãƒãƒ¼æ™‚ã®ãƒ†ã‚­ã‚¹ãƒˆè‰² |
| `component.menu.danger.background.hover` | `{error.default}` | ãƒ›ãƒãƒ¼æ™‚ã®èƒŒæ™¯è‰² |
| `component.menu.danger.icon.color` | `{error.default}` | ã‚¢ã‚¤ã‚³ãƒ³ã®è‰² |

### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

#### è¡¨ç¤ºæ™‚

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.animation.enter.duration` | `{animation.duration.fast}` | è¡¨ç¤ºã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æŒç¶šæ™‚é–“ |
| `component.menu.animation.enter.timing` | `{animation.easing.easeOut}` | ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
| `component.menu.animation.enter.opacity.from` | `0` | é–‹å§‹æ™‚ã®é€æ˜åº¦ |
| `component.menu.animation.enter.opacity.to` | `1` | çµ‚äº†æ™‚ã®é€æ˜åº¦ |
| `component.menu.animation.enter.transform.from` | `translateY(-8px)` | é–‹å§‹æ™‚ã®ä½ç½® |
| `component.menu.animation.enter.transform.to` | `translateY(0)` | çµ‚äº†æ™‚ã®ä½ç½® |

#### éè¡¨ç¤ºæ™‚

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.animation.exit.duration` | `{animation.duration.fast}` | éè¡¨ç¤ºã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æŒç¶šæ™‚é–“ |
| `component.menu.animation.exit.timing` | `{animation.easing.easeIn}` | ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
| `component.menu.animation.exit.opacity.from` | `1` | é–‹å§‹æ™‚ã®é€æ˜åº¦ |
| `component.menu.animation.exit.opacity.to` | `0` | çµ‚äº†æ™‚ã®é€æ˜åº¦ |

### ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.menu.transition.duration` | `{animation.duration.fast}` | ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã®æŒç¶šæ™‚é–“ |
| `component.menu.transition.timing` | `{animation.easing.ease}` | ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã®ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
| `component.menu.transition.properties` | `background-color, color` | ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³å¯¾è±¡ |

---

## ä½¿ç”¨ä¾‹

### HTML

```html
<!-- åŸºæœ¬çš„ãªãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
<div class="menu">
  <button class="menu-item">
    <span class="menu-icon">ğŸ‘¤</span>
    <span>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</span>
  </button>
  <button class="menu-item">
    <span class="menu-icon">âš™ï¸</span>
    <span>è¨­å®š</span>
  </button>
  <div class="menu-divider"></div>
  <button class="menu-item menu-item-danger">
    <span class="menu-icon">ğŸšª</span>
    <span>ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>
  </button>
</div>

<!-- ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
<div class="menu">
  <div class="menu-group-header">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</div>
  <button class="menu-item">
    <span class="menu-icon">ğŸ‘¤</span>
    <span>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</span>
    <span class="menu-shortcut">âŒ˜P</span>
  </button>
  <button class="menu-item">
    <span class="menu-icon">âš™ï¸</span>
    <span>è¨­å®š</span>
    <span class="menu-shortcut">âŒ˜S</span>
  </button>

  <div class="menu-divider"></div>

  <div class="menu-group-header">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</div>
  <button class="menu-item menu-item-active">
    <span class="menu-check">âœ“</span>
    <span>é¸æŠæ¸ˆã¿é …ç›®</span>
  </button>
  <button class="menu-item">
    <span class="menu-icon">ğŸ“„</span>
    <span>æ–°è¦ä½œæˆ</span>
    <span class="menu-arrow">â€º</span>
  </button>
  <button class="menu-item" disabled>
    <span class="menu-icon">ğŸ”’</span>
    <span>ç„¡åŠ¹ãªé …ç›®</span>
  </button>

  <div class="menu-divider"></div>

  <button class="menu-item menu-item-danger">
    <span class="menu-icon">ğŸ—‘ï¸</span>
    <span>å‰Šé™¤</span>
  </button>
</div>
```

### CSS

```css
.menu {
  min-width: var(--component-menu-container-min-width);
  max-height: var(--component-menu-container-max-height);
  padding: var(--component-menu-container-padding-vertical)
           var(--component-menu-container-padding-horizontal);
  background: var(--component-menu-container-background);
  border: var(--component-menu-container-border-width) solid;
  border-color: var(--component-menu-container-border-color);
  border-radius: var(--component-menu-container-border-radius);
  box-shadow: var(--component-menu-container-shadow);
  overflow: var(--component-menu-container-overflow);
}

.menu-item {
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--component-menu-item-min-height-default);
  padding: var(--component-menu-item-padding-vertical)
           var(--component-menu-item-padding-horizontal);
  font-size: var(--component-menu-item-font-size);
  color: var(--component-menu-item-text-default);
  background: var(--component-menu-item-background-default);
  border: none;
  text-align: left;
  cursor: var(--component-menu-item-cursor-default);
  transition: var(--component-menu-transition-properties)
              var(--component-menu-transition-duration)
              var(--component-menu-transition-timing);
}

.menu-item:hover:not(:disabled) {
  color: var(--component-menu-item-text-hover);
  background: var(--component-menu-item-background-hover);
}

.menu-item-danger {
  color: var(--component-menu-danger-text-default);
}

.menu-item-danger:hover:not(:disabled) {
  color: var(--component-menu-danger-text-hover);
  background: var(--component-menu-danger-background-hover);
}
```

### React

```tsx
interface MenuItem {
  label: string;
  icon?: React.ReactNode;
  shortcut?: string;
  onClick?: () => void;
  disabled?: boolean;
  danger?: boolean;
  checked?: boolean;
  divider?: boolean;
  header?: string;
}

function Menu({ items, isOpen, onClose }: {
  items: MenuItem[];
  isOpen: boolean;
  onClose: () => void;
}) {
  const menuRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    function handleClickOutside(event: MouseEvent) {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        onClose();
      }
    }

    if (isOpen) {
      document.addEventListener('mousedown', handleClickOutside);
      return () => document.removeEventListener('mousedown', handleClickOutside);
    }
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  return (
    <div className="menu" ref={menuRef}>
      {items.map((item, index) => {
        if (item.divider) {
          return <div key={index} className="menu-divider" />;
        }

        if (item.header) {
          return (
            <div key={index} className="menu-group-header">
              {item.header}
            </div>
          );
        }

        return (
          <button
            key={index}
            className={`menu-item ${item.danger ? 'menu-item-danger' : ''} ${
              item.checked ? 'menu-item-active' : ''
            }`}
            onClick={item.onClick}
            disabled={item.disabled}
          >
            {item.checked && <span className="menu-check">âœ“</span>}
            {item.icon && <span className="menu-icon">{item.icon}</span>}
            <span>{item.label}</span>
            {item.shortcut && (
              <span className="menu-shortcut">{item.shortcut}</span>
            )}
          </button>
        );
      })}
    </div>
  );
}

// ä½¿ç”¨ä¾‹
<Menu
  isOpen={isMenuOpen}
  onClose={() => setIsMenuOpen(false)}
  items={[
    { header: 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ' },
    { label: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«', icon: 'ğŸ‘¤', shortcut: 'âŒ˜P' },
    { label: 'è¨­å®š', icon: 'âš™ï¸', shortcut: 'âŒ˜S' },
    { divider: true },
    { label: 'é¸æŠæ¸ˆã¿', checked: true },
    { divider: true },
    { label: 'å‰Šé™¤', icon: 'ğŸ—‘ï¸', danger: true }
  ]}
/>
```

---

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

### ARIAå±æ€§

- `role="menu"`: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠã«è¨­å®š
- `role="menuitem"`: å„ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ã«è¨­å®š
- `role="separator"`: åŒºåˆ‡ã‚Šç·šã«è¨­å®š
- `aria-disabled="true"`: ç„¡åŠ¹ãªã‚¢ã‚¤ãƒ†ãƒ ã«è¨­å®š
- `aria-checked`: ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹å‹ã‚¢ã‚¤ãƒ†ãƒ ã«è¨­å®š

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

å®Ÿè£…ã™ã¹ãã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼š

- **â†‘/â†“ (çŸ¢å°ã‚­ãƒ¼)**: ã‚¢ã‚¤ãƒ†ãƒ é–“ã‚’ç§»å‹•
- **Enter/Space**: ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠ
- **Esc**: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
- **Home**: æœ€åˆã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç§»å‹•
- **End**: æœ€å¾Œã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç§»å‹•
- **Tab**: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç§»å‹•

```javascript
// ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…
const menuItems = menu.querySelectorAll('[role="menuitem"]:not([disabled])');
let currentIndex = 0;

menu.addEventListener('keydown', (e) => {
  switch(e.key) {
    case 'ArrowDown':
      currentIndex = (currentIndex + 1) % menuItems.length;
      menuItems[currentIndex].focus();
      e.preventDefault();
      break;

    case 'ArrowUp':
      currentIndex = (currentIndex - 1 + menuItems.length) % menuItems.length;
      menuItems[currentIndex].focus();
      e.preventDefault();
      break;

    case 'Home':
      currentIndex = 0;
      menuItems[0].focus();
      e.preventDefault();
      break;

    case 'End':
      currentIndex = menuItems.length - 1;
      menuItems[currentIndex].focus();
      e.preventDefault();
      break;

    case 'Escape':
      closeMenu();
      returnFocusToTrigger();
      break;
  }
});
```

### ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

```javascript
function openMenu(triggerElement) {
  menu.style.display = 'block';

  // æœ€åˆã®ã‚¢ã‚¤ãƒ†ãƒ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
  const firstItem = menu.querySelector('[role="menuitem"]:not([disabled])');
  firstItem?.focus();

  // ãƒˆãƒªã‚¬ãƒ¼è¦ç´ ã‚’è¨˜æ†¶ï¼ˆé–‰ã˜ã‚‹æ™‚ã«æˆ»ã™ï¼‰
  menu.dataset.trigger = triggerElement.id;
}

function closeMenu() {
  menu.style.display = 'none';

  // ãƒˆãƒªã‚¬ãƒ¼è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’æˆ»ã™
  const triggerId = menu.dataset.trigger;
  document.getElementById(triggerId)?.focus();
}
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®é…ç½®

1. **ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ä½ç½®ã®è¨ˆç®—**

```javascript
function positionMenu(trigger, menu) {
  const triggerRect = trigger.getBoundingClientRect();
  const menuRect = menu.getBoundingClientRect();
  const viewport = {
    width: window.innerWidth,
    height: window.innerHeight
  };

  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ä¸‹ã«è¡¨ç¤º
  let top = triggerRect.bottom + 4;
  let left = triggerRect.left;

  // ç”»é¢ä¸‹éƒ¨ã«åã¾ã‚‰ãªã„å ´åˆã¯ä¸Šã«è¡¨ç¤º
  if (top + menuRect.height > viewport.height) {
    top = triggerRect.top - menuRect.height - 4;
  }

  // ç”»é¢å³ç«¯ã«åã¾ã‚‰ãªã„å ´åˆã¯å·¦å¯„ã›
  if (left + menuRect.width > viewport.width) {
    left = viewport.width - menuRect.width - 16;
  }

  menu.style.top = `${top}px`;
  menu.style.left = `${left}px`;
}
```

2. **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå³ã‚¯ãƒªãƒƒã‚¯ï¼‰**

```javascript
document.addEventListener('contextmenu', (e) => {
  e.preventDefault();

  // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤º
  menu.style.display = 'block';
  menu.style.top = `${e.pageY}px`;
  menu.style.left = `${e.pageX}px`;

  // ç”»é¢å¤–ã«å‡ºãªã„ã‚ˆã†ã«èª¿æ•´
  positionMenu(null, menu);
});
```

### ã‚°ãƒ«ãƒ¼ãƒ—åŒ–

è«–ç†çš„ã«ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼š

1. **é–¢é€£ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**ã‚’åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ã«
2. **ç ´å£Šçš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³**ã¯ç‹¬ç«‹ã—ãŸã‚°ãƒ«ãƒ¼ãƒ—ã«
3. ã‚°ãƒ«ãƒ¼ãƒ—é–“ã«**åŒºåˆ‡ã‚Šç·š**ã‚’é…ç½®

```javascript
const menuStructure = [
  {
    header: 'ç·¨é›†',
    items: [
      { label: 'ã‚³ãƒ”ãƒ¼', shortcut: 'âŒ˜C' },
      { label: 'è²¼ã‚Šä»˜ã‘', shortcut: 'âŒ˜V' }
    ]
  },
  { divider: true },
  {
    header: 'å±é™ºãªæ“ä½œ',
    items: [
      { label: 'å‰Šé™¤', danger: true, shortcut: 'âŒ˜D' }
    ]
  }
];
```

### ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼

1. **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ**

```javascript
const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
const modifierKey = isMac ? 'âŒ˜' : 'Ctrl+';

const shortcuts = {
  copy: `${modifierKey}C`,
  paste: `${modifierKey}V`,
  delete: `${modifierKey}D`
};
```

2. **ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®å®Ÿè£…**

```javascript
document.addEventListener('keydown', (e) => {
  const key = e.key.toLowerCase();
  const modifier = e.metaKey || e.ctrlKey;

  if (modifier && key === 'c') {
    handleCopy();
    e.preventDefault();
  }
});
```

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«

å¤šæ•°ã®ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆ100+ï¼‰ãŒã‚ã‚‹å ´åˆï¼š

```javascript
import { VirtualList } from 'virtual-list-library';

<VirtualList
  height={400}
  itemCount={items.length}
  itemSize={40}
  renderItem={({ index, style }) => (
    <button className="menu-item" style={style}>
      {items[index].label}
    </button>
  )}
/>
```

### é…å»¶èª­ã¿è¾¼ã¿

```javascript
function LazyMenu({ onOpen }) {
  const [items, setItems] = useState([]);

  useEffect(() => {
    if (onOpen) {
      fetchMenuItems().then(setItems);
    }
  }, [onOpen]);

  return <Menu items={items} />;
}
```

---

## é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

- **Tabs**: ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- **Navigation**: ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼
- **Select**: ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ï¼ˆãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ï¼‰

---

## ã‚ˆãã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³

### ã‚±ãƒãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆ3ç‚¹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰

```html
<button class="menu-trigger" aria-label="ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³">
  â‹®
</button>
```

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼

```
ğŸ‘¤ John Doe
â”œâ”€â”€ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
â”œâ”€â”€ è¨­å®š
â”œâ”€â”€ ãƒ˜ãƒ«ãƒ—
â””â”€â”€ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ (danger)
```

### ã‚¨ãƒ‡ã‚£ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼

```
ç·¨é›†
â”œâ”€â”€ å…ƒã«æˆ»ã™ (âŒ˜Z)
â”œâ”€â”€ ã‚„ã‚Šç›´ã™ (âŒ˜â‡§Z)
---
â”œâ”€â”€ ã‚«ãƒƒãƒˆ (âŒ˜X)
â”œâ”€â”€ ã‚³ãƒ”ãƒ¼ (âŒ˜C)
â””â”€â”€ è²¼ã‚Šä»˜ã‘ (âŒ˜V)
```

---

**æœ€çµ‚æ›´æ–°:** 2025-12-10
**Phase 4 Option C ã§å®Ÿè£…**
