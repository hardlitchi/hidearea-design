# Dialog (ãƒ€ã‚¤ã‚¢ãƒ­ã‚°) ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ã‚«ãƒ†ã‚´ãƒª:** Overlays
**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/css/components/overlays/dialog.css`
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:** âœ… å®Ÿè£…æ¸ˆã¿

---

## æ¦‚è¦

ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¢ºèªã‚„æ±ºå®šãŒå¿…è¦ãªå ´é¢ã§è¡¨ç¤ºã•ã‚Œã‚‹ç‰¹åŒ–ã—ãŸãƒ¢ãƒ¼ãƒ€ãƒ«ã§ã™ã€‚ç¢ºèªã€è­¦å‘Šã€ç ´å£Šçš„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€æƒ…å ±ã€æˆåŠŸãªã©ã€ç›®çš„ã«å¿œã˜ãŸ5ã¤ã®ãƒãƒªã‚¢ãƒ³ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚

### ç”¨é€”

- ç ´å£Šçš„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³(å‰Šé™¤ã€ãƒªã‚»ãƒƒãƒˆãªã©)ã®ç¢ºèª
- é‡è¦ãªæ±ºå®šã®ç¢ºèª
- è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º
- æ“ä½œå®Œäº†ã®é€šçŸ¥
- ã‚¨ãƒ©ãƒ¼ã‚„å•é¡Œã®å ±å‘Š

### ç‰¹å¾´

- ç›®çš„åˆ¥ã®5ã¤ã®ãƒãƒªã‚¢ãƒ³ãƒˆï¼ˆç¢ºèªã€è­¦å‘Šã€ç ´å£Šçš„ã€æƒ…å ±ã€æˆåŠŸï¼‰
- ã‚¢ã‚¤ã‚³ãƒ³ã§è¦–è¦šçš„ã«æ„å›³ã‚’æ˜ç¤º
- æ˜ç¢ºãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³é…ç½®
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå¯¾å¿œ

---

## ãƒãƒªã‚¢ãƒ³ãƒˆ

### 1. Confirmation (ç¢ºèª)

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ±ºå®šã‚„åŒæ„ã‚’æ±‚ã‚ã‚‹æ¨™æº–çš„ãªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€‚

**ä½¿ç”¨å ´é¢:**
- ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã®ç¢ºèª
- è¨­å®šå¤‰æ›´ã®ç¢ºèª
- æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸ã®é€²è¡Œç¢ºèª

**ã‚¢ã‚¤ã‚³ãƒ³è‰²:**
- èƒŒæ™¯: `{primary.subtle}`
- è‰²: `{primary.default}`

### 2. Warning (è­¦å‘Š)

æ³¨æ„ãŒå¿…è¦ãªæ“ä½œã‚„æ½œåœ¨çš„ãªãƒªã‚¹ã‚¯ã‚’ä¼ãˆã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€‚

**ä½¿ç”¨å ´é¢:**
- ãƒ‡ãƒ¼ã‚¿æå¤±ã®å¯èƒ½æ€§ãŒã‚ã‚‹æ“ä½œ
- ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å½±éŸ¿ãŒå¤§ãã„å¤‰æ›´
- å…ƒã«æˆ»ã›ãªã„æ“ä½œã®è­¦å‘Š

**ã‚¢ã‚¤ã‚³ãƒ³è‰²:**
- èƒŒæ™¯: `{warning.subtle}`
- è‰²: `{warning.default}`

### 3. Destructive (ç ´å£Šçš„)

ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ãªã©ã€å–ã‚Šè¿”ã—ã®ã¤ã‹ãªã„æ“ä½œã‚’è¡Œã†å‰ã®ç¢ºèªã€‚

**ä½¿ç”¨å ´é¢:**
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤
- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å‰Šé™¤
- é‡è¦ãªè¨­å®šã®ãƒªã‚»ãƒƒãƒˆ

**ã‚¢ã‚¤ã‚³ãƒ³è‰²:**
- èƒŒæ™¯: `{error.subtle}`
- è‰²: `{error.default}`

### 4. Info (æƒ…å ±)

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æƒ…å ±ã‚’æä¾›ã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€‚

**ä½¿ç”¨å ´é¢:**
- æ©Ÿèƒ½ã®èª¬æ˜
- ãƒ˜ãƒ«ãƒ—æƒ…å ±ã®è¡¨ç¤º
- è¿½åŠ æƒ…å ±ã®æä¾›

**ã‚¢ã‚¤ã‚³ãƒ³è‰²:**
- èƒŒæ™¯: `{info.subtle}`
- è‰²: `{info.default}`

### 5. Success (æˆåŠŸ)

æ“ä½œã®æˆåŠŸã‚’é€šçŸ¥ã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€‚

**ä½¿ç”¨å ´é¢:**
- å‡¦ç†å®Œäº†ã®é€šçŸ¥
- ä¿å­˜æˆåŠŸã®ç¢ºèª
- ã‚¿ã‚¹ã‚¯å®Œäº†ã®è¡¨ç¤º

**ã‚¢ã‚¤ã‚³ãƒ³è‰²:**
- èƒŒæ™¯: `{success.subtle}`
- è‰²: `{success.default}`

---

## ãƒˆãƒ¼ã‚¯ãƒ³ä¸€è¦§

### ã‚µã‚¤ã‚º

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.width.small` | `320px` | å°ã‚µã‚¤ã‚º - ã‚·ãƒ³ãƒ—ãƒ«ãªç¢ºèª |
| `component.dialog.width.default` | `480px` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚µã‚¤ã‚º - æ¨™æº–çš„ãªãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| `component.dialog.width.large` | `640px` | å¤§ã‚µã‚¤ã‚º - è©³ç´°ãªèª¬æ˜ãŒå¿…è¦ãªå ´åˆ |
| `component.dialog.maxWidth` | `90vw` | æœ€å¤§å¹… - ç”»é¢å¹…ã®90% |
| `component.dialog.maxHeight` | `90vh` | æœ€å¤§é«˜ã• - ç”»é¢é«˜ã•ã®90% |
| `component.dialog.minHeight` | `160px` | æœ€å°é«˜ã• |

### ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.padding` | `{spacing.6}` | å†…éƒ¨ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° (24px) |
| `component.dialog.gap` | `{spacing.4}` | è¦ç´ é–“ã®é–“éš” (16px) |

### èƒŒæ™¯ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.background.default` | `{background.primary}` | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°èƒŒæ™¯è‰² |
| `component.dialog.background.overlay` | `rgba(0, 0, 0, 0.5)` | èƒŒæ™¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ - åŠé€æ˜é»’ |

### ãƒœãƒ¼ãƒ€ãƒ¼

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.border.width` | `{border.width.0}` | ãƒœãƒ¼ãƒ€ãƒ¼å¹… (ãªã—) |
| `component.dialog.border.radius` | `{border.radius.lg}` | è§’ä¸¸ (8px) |
| `component.dialog.border.color` | `{border.default}` | ãƒœãƒ¼ãƒ€ãƒ¼è‰² |

### ã‚·ãƒ£ãƒ‰ã‚¦ã¨Z-index

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.shadow` | `{shadow.2xl}` | å¤§ããªå½±ã§æµ®ãä¸ŠãŒã‚ŠåŠ¹æœ |
| `component.dialog.zIndex.overlay` | `1000` | ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®z-index |
| `component.dialog.zIndex.content` | `1001` | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®z-index |

### ã‚¢ã‚¤ã‚³ãƒ³

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.icon.size` | `{spacing.12}` | ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚º (48px) |

#### ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.icon.confirmation.background` | `{primary.subtle}` | ç¢ºèªã‚¢ã‚¤ã‚³ãƒ³èƒŒæ™¯ |
| `component.dialog.icon.confirmation.color` | `{primary.default}` | ç¢ºèªã‚¢ã‚¤ã‚³ãƒ³è‰² |

#### è­¦å‘Šãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.icon.warning.background` | `{warning.subtle}` | è­¦å‘Šã‚¢ã‚¤ã‚³ãƒ³èƒŒæ™¯ |
| `component.dialog.icon.warning.color` | `{warning.default}` | è­¦å‘Šã‚¢ã‚¤ã‚³ãƒ³è‰² |

#### ç ´å£Šçš„ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.icon.destructive.background` | `{error.subtle}` | ç ´å£Šçš„ã‚¢ã‚¤ã‚³ãƒ³èƒŒæ™¯ |
| `component.dialog.icon.destructive.color` | `{error.default}` | ç ´å£Šçš„ã‚¢ã‚¤ã‚³ãƒ³è‰² |

#### æƒ…å ±ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.icon.info.background` | `{info.subtle}` | æƒ…å ±ã‚¢ã‚¤ã‚³ãƒ³èƒŒæ™¯ |
| `component.dialog.icon.info.color` | `{info.default}` | æƒ…å ±ã‚¢ã‚¤ã‚³ãƒ³è‰² |

#### æˆåŠŸãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.icon.success.background` | `{success.subtle}` | æˆåŠŸã‚¢ã‚¤ã‚³ãƒ³èƒŒæ™¯ |
| `component.dialog.icon.success.color` | `{success.default}` | æˆåŠŸã‚¢ã‚¤ã‚³ãƒ³è‰² |

### ã‚¿ã‚¤ãƒˆãƒ«

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.title.fontSize` | `{font.size.lg}` | ã‚¿ã‚¤ãƒˆãƒ«æ–‡å­—ã‚µã‚¤ã‚º (18px) |
| `component.dialog.title.fontWeight` | `{font.weight.semibold}` | ã‚¿ã‚¤ãƒˆãƒ«å¤ªã• (600) |
| `component.dialog.title.lineHeight` | `{font.lineHeight.tight}` | è¡Œé«˜ |
| `component.dialog.title.color` | `{foreground.primary}` | ã‚¿ã‚¤ãƒˆãƒ«è‰² |
| `component.dialog.title.marginBottom` | `{spacing.2}` | ã‚¿ã‚¤ãƒˆãƒ«ä¸‹ãƒãƒ¼ã‚¸ãƒ³ (8px) |

### èª¬æ˜æ–‡

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.description.fontSize` | `{font.size.sm}` | èª¬æ˜æ–‡å­—ã‚µã‚¤ã‚º (14px) |
| `component.dialog.description.fontWeight` | `{font.weight.normal}` | èª¬æ˜æ–‡å¤ªã• (400) |
| `component.dialog.description.lineHeight` | `{font.lineHeight.relaxed}` | è¡Œé«˜ |
| `component.dialog.description.color` | `{foreground.secondary}` | èª¬æ˜æ–‡è‰² |

### ãƒ•ãƒƒã‚¿ãƒ¼

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.footer.gap` | `{spacing.3}` | ãƒœã‚¿ãƒ³é–“ã®é–“éš” (12px) |
| `component.dialog.footer.marginTop` | `{spacing.6}` | ãƒ•ãƒƒã‚¿ãƒ¼ä¸Šãƒãƒ¼ã‚¸ãƒ³ (24px) |
| `component.dialog.footer.justifyContent` | `flex-end` | ãƒœã‚¿ãƒ³ã‚’å³å¯„ã› |

### é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.closeButton.size` | `{spacing.8}` | é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚º (32px) |
| `component.dialog.closeButton.position.top` | `{spacing.4}` | ä¸Šã‹ã‚‰ã®ä½ç½® (16px) |
| `component.dialog.closeButton.position.right` | `{spacing.4}` | å³ã‹ã‚‰ã®ä½ç½® (16px) |
| `component.dialog.closeButton.background.default` | `transparent` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆèƒŒæ™¯ |
| `component.dialog.closeButton.background.hover` | `{background.secondary}` | ãƒ›ãƒãƒ¼æ™‚èƒŒæ™¯ |
| `component.dialog.closeButton.color.default` | `{foreground.tertiary}` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰² |
| `component.dialog.closeButton.color.hover` | `{foreground.primary}` | ãƒ›ãƒãƒ¼æ™‚è‰² |
| `component.dialog.closeButton.borderRadius` | `{border.radius.md}` | è§’ä¸¸ (6px) |

### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒˆãƒ¼ã‚¯ãƒ³ | å€¤ | èª¬æ˜ |
|---------|-----|------|
| `component.dialog.animation.duration` | `{animation.duration.base}` | ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ (0.2s) |
| `component.dialog.animation.timing` | `{animation.easing.easeOut}` | ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
| `component.dialog.transition.duration` | `{animation.duration.fast}` | ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³æ™‚é–“ (0.15s) |
| `component.dialog.transition.timing` | `{animation.easing.ease}` | ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
| `component.dialog.transition.properties` | `background-color, color, opacity, transform` | ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³å¯¾è±¡ |

---

## ä½¿ç”¨ä¾‹

### HTML

```html
<!-- ç ´å£Šçš„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
<div class="dialog-overlay" role="presentation">
  <div
    class="dialog dialog-destructive"
    role="alertdialog"
    aria-labelledby="dialog-title"
    aria-describedby="dialog-description"
  >
    <button class="dialog-close" aria-label="é–‰ã˜ã‚‹">
      Ã—
    </button>

    <div class="dialog-icon">
      <svg><!-- è­¦å‘Šã‚¢ã‚¤ã‚³ãƒ³ --></svg>
    </div>

    <div class="dialog-content">
      <h2 id="dialog-title" class="dialog-title">
        ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã‹?
      </h2>

      <p id="dialog-description" class="dialog-description">
        ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚æœ¬å½“ã«ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹?
      </p>
    </div>

    <div class="dialog-footer">
      <button class="button button-secondary" type="button">
        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
      </button>
      <button class="button button-danger" type="button">
        å‰Šé™¤
      </button>
    </div>
  </div>
</div>

<!-- ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
<div class="dialog-overlay">
  <div class="dialog dialog-confirmation" role="dialog">
    <div class="dialog-icon">
      <svg><!-- ç¢ºèªã‚¢ã‚¤ã‚³ãƒ³ --></svg>
    </div>

    <div class="dialog-content">
      <h2 class="dialog-title">å¤‰æ›´ã‚’ä¿å­˜ã—ã¾ã™ã‹?</h2>
      <p class="dialog-description">
        ä¿å­˜ã—ãªã„å ´åˆã€å¤‰æ›´å†…å®¹ã¯å¤±ã‚ã‚Œã¾ã™ã€‚
      </p>
    </div>

    <div class="dialog-footer">
      <button class="button button-secondary">ä¿å­˜ã—ãªã„</button>
      <button class="button button-primary">ä¿å­˜</button>
    </div>
  </div>
</div>

<!-- æˆåŠŸãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
<div class="dialog-overlay">
  <div class="dialog dialog-success" role="dialog">
    <div class="dialog-icon">
      <svg><!-- ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚¢ã‚¤ã‚³ãƒ³ --></svg>
    </div>

    <div class="dialog-content">
      <h2 class="dialog-title">ä¿å­˜å®Œäº†</h2>
      <p class="dialog-description">
        å¤‰æ›´ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸã€‚
      </p>
    </div>

    <div class="dialog-footer">
      <button class="button button-primary">OK</button>
    </div>
  </div>
</div>
```

### CSS

```css
/* ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
.dialog-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--component-dialog-background-overlay);
  z-index: var(--component-dialog-z-index-overlay);
  padding: 1rem;
  animation: fade-in var(--component-dialog-animation-duration)
             var(--component-dialog-animation-timing);
}

/* ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚³ãƒ³ãƒ†ãƒŠ */
.dialog {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--component-dialog-gap);
  width: 100%;
  max-width: var(--component-dialog-width-default);
  max-height: var(--component-dialog-max-height);
  padding: var(--component-dialog-padding);
  background-color: var(--component-dialog-background-default);
  border-radius: var(--component-dialog-border-radius);
  box-shadow: var(--component-dialog-shadow);
  z-index: var(--component-dialog-z-index-content);
  animation: scale-in var(--component-dialog-animation-duration)
             var(--component-dialog-animation-timing);
}

/* ã‚¢ã‚¤ã‚³ãƒ³ */
.dialog-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--component-dialog-icon-size);
  height: var(--component-dialog-icon-size);
  border-radius: 50%;
}

.dialog-confirmation .dialog-icon {
  background-color: var(--component-dialog-icon-confirmation-background);
  color: var(--component-dialog-icon-confirmation-color);
}

.dialog-warning .dialog-icon {
  background-color: var(--component-dialog-icon-warning-background);
  color: var(--component-dialog-icon-warning-color);
}

.dialog-destructive .dialog-icon {
  background-color: var(--component-dialog-icon-destructive-background);
  color: var(--component-dialog-icon-destructive-color);
}

.dialog-info .dialog-icon {
  background-color: var(--component-dialog-icon-info-background);
  color: var(--component-dialog-icon-info-color);
}

.dialog-success .dialog-icon {
  background-color: var(--component-dialog-icon-success-background);
  color: var(--component-dialog-icon-success-color);
}

.dialog-icon svg {
  width: 1.5rem;
  height: 1.5rem;
}

/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
.dialog-content {
  text-align: center;
  width: 100%;
}

.dialog-title {
  margin: 0 0 var(--component-dialog-title-margin-bottom);
  font-size: var(--component-dialog-title-font-size);
  font-weight: var(--component-dialog-title-font-weight);
  line-height: var(--component-dialog-title-line-height);
  color: var(--component-dialog-title-color);
}

.dialog-description {
  margin: 0;
  font-size: var(--component-dialog-description-font-size);
  font-weight: var(--component-dialog-description-font-weight);
  line-height: var(--component-dialog-description-line-height);
  color: var(--component-dialog-description-color);
}

/* ãƒ•ãƒƒã‚¿ãƒ¼ */
.dialog-footer {
  display: flex;
  gap: var(--component-dialog-footer-gap);
  justify-content: var(--component-dialog-footer-justify-content);
  width: 100%;
  margin-top: var(--component-dialog-footer-margin-top);
}

/* é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ */
.dialog-close {
  position: absolute;
  top: var(--component-dialog-close-button-position-top);
  right: var(--component-dialog-close-button-position-right);
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--component-dialog-close-button-size);
  height: var(--component-dialog-close-button-size);
  padding: 0;
  background: var(--component-dialog-close-button-background-default);
  border: none;
  border-radius: var(--component-dialog-close-button-border-radius);
  color: var(--component-dialog-close-button-color-default);
  font-size: 1.5rem;
  line-height: 1;
  cursor: pointer;
  transition: var(--component-dialog-transition-properties)
              var(--component-dialog-transition-duration)
              var(--component-dialog-transition-timing);
}

.dialog-close:hover {
  background: var(--component-dialog-close-button-background-hover);
  color: var(--component-dialog-close-button-color-hover);
}

/* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* ã‚µã‚¤ã‚ºãƒãƒªã‚¢ãƒ³ãƒˆ */
.dialog-small {
  max-width: var(--component-dialog-width-small);
}

.dialog-large {
  max-width: var(--component-dialog-width-large);
}
```

### React

```tsx
import { useEffect, useRef } from 'react';
import { createPortal } from 'react-dom';

type DialogType = 'confirmation' | 'warning' | 'destructive' | 'info' | 'success';

interface DialogProps {
  isOpen: boolean;
  onClose: () => void;
  type: DialogType;
  title: string;
  description: string;
  actions: {
    label: string;
    onClick: () => void;
    variant?: 'primary' | 'secondary' | 'danger';
  }[];
  showCloseButton?: boolean;
}

function Dialog({
  isOpen,
  onClose,
  type,
  title,
  description,
  actions,
  showCloseButton = true,
}: DialogProps) {
  const dialogRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (isOpen) {
      // bodyã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ–
      document.body.style.overflow = 'hidden';

      // Escã‚­ãƒ¼ã§é–‰ã˜ã‚‹
      const handleEscape = (e: KeyboardEvent) => {
        if (e.key === 'Escape') onClose();
      };

      document.addEventListener('keydown', handleEscape);

      // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ç§»å‹•
      dialogRef.current?.focus();

      return () => {
        document.body.style.overflow = '';
        document.removeEventListener('keydown', handleEscape);
      };
    }
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  const getIcon = () => {
    switch (type) {
      case 'confirmation':
        return '?';
      case 'warning':
        return 'âš ';
      case 'destructive':
        return 'ğŸ—‘';
      case 'info':
        return 'â„¹';
      case 'success':
        return 'âœ“';
    }
  };

  return createPortal(
    <div
      className="dialog-overlay"
      onClick={(e) => {
        if (e.target === e.currentTarget) onClose();
      }}
    >
      <div
        ref={dialogRef}
        className={`dialog dialog-${type}`}
        role={type === 'destructive' || type === 'warning' ? 'alertdialog' : 'dialog'}
        aria-modal="true"
        aria-labelledby="dialog-title"
        aria-describedby="dialog-description"
        tabIndex={-1}
      >
        {showCloseButton && (
          <button className="dialog-close" onClick={onClose} aria-label="é–‰ã˜ã‚‹">
            Ã—
          </button>
        )}

        <div className="dialog-icon">{getIcon()}</div>

        <div className="dialog-content">
          <h2 id="dialog-title" className="dialog-title">
            {title}
          </h2>
          <p id="dialog-description" className="dialog-description">
            {description}
          </p>
        </div>

        <div className="dialog-footer">
          {actions.map((action, index) => (
            <button
              key={index}
              className={`button button-${action.variant || 'secondary'}`}
              onClick={() => {
                action.onClick();
                onClose();
              }}
            >
              {action.label}
            </button>
          ))}
        </div>
      </div>
    </div>,
    document.body
  );
}

// ä½¿ç”¨ä¾‹
function App() {
  const [isOpen, setIsOpen] = useState(false);

  const handleDelete = () => {
    // å‰Šé™¤å‡¦ç†
    console.log('å‰Šé™¤ã—ã¾ã—ãŸ');
  };

  return (
    <>
      <button onClick={() => setIsOpen(true)}>å‰Šé™¤</button>

      <Dialog
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        type="destructive"
        title="ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã‹?"
        description="ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚æœ¬å½“ã«ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹?"
        actions={[
          {
            label: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
            onClick: () => {},
            variant: 'secondary',
          },
          {
            label: 'å‰Šé™¤',
            onClick: handleDelete,
            variant: 'danger',
          },
        ]}
      />
    </>
  );
}
```

---

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

### ARIAå±æ€§

- `role="dialog"`: é€šå¸¸ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- `role="alertdialog"`: è­¦å‘Šã‚„ç ´å£Šçš„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç”¨ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å³åº§ã®æ³¨æ„ãŒå¿…è¦ï¼‰
- `aria-modal="true"`: ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã‚ã‚‹ã“ã¨ã‚’æ˜ç¤º
- `aria-labelledby`: ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–¢é€£ä»˜ã‘
- `aria-describedby`: èª¬æ˜æ–‡ã¨ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–¢é€£ä»˜ã‘

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

å®Ÿè£…ã™ã¹ãã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ:

- **Esc**: ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‰ã˜ã‚‹ï¼ˆé‡è¦ãªç¢ºèªã®å ´åˆã¯ç„¡åŠ¹åŒ–ã‚‚æ¤œè¨ï¼‰
- **Tab**: ãƒ€ã‚¤ã‚¢ãƒ­ã‚°å†…ã®è¦ç´ é–“ã‚’ç§»å‹•
- **Enter**: ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œï¼ˆãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒãƒœã‚¿ãƒ³ã«ã‚ã‚‹å ´åˆï¼‰

### ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

```javascript
// ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã
function openDialog() {
  // ç¾åœ¨ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ä¿å­˜
  previousActiveElement = document.activeElement;

  // ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
  dialogElement.focus();

  // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒˆãƒ©ãƒƒãƒ—ã‚’æœ‰åŠ¹åŒ–
  trapFocus(dialogElement);
}

// ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‰ã˜ã‚‹
function closeDialog() {
  // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å¾©å…ƒ
  previousActiveElement?.focus();
}
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ä½¿ç”¨

1. **é©åˆ‡ãªã‚¿ã‚¤ãƒ—ã®é¸æŠ**
   - ç ´å£Šçš„: ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ãªã©å–ã‚Šè¿”ã—ã®ã¤ã‹ãªã„æ“ä½œ
   - è­¦å‘Š: æ³¨æ„ãŒå¿…è¦ã ãŒå–ã‚Šæ¶ˆã—å¯èƒ½ãªæ“ä½œ
   - ç¢ºèª: é€šå¸¸ã®ç¢ºèª
   - æƒ…å ±: æƒ…å ±æä¾›ã®ã¿
   - æˆåŠŸ: å®Œäº†é€šçŸ¥

2. **æ˜ç¢ºãªã‚¿ã‚¤ãƒˆãƒ«ã¨èª¬æ˜**
   - ã‚¿ã‚¤ãƒˆãƒ«: ç°¡æ½”ã§æ˜ç¢ºï¼ˆ5-7å˜èªï¼‰
   - èª¬æ˜: å…·ä½“çš„ãªå½±éŸ¿ã‚’èª¬æ˜ï¼ˆ1-2æ–‡ï¼‰

3. **ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³**
   - ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³: å³å´ã«é…ç½®
   - ã‚­ãƒ£ãƒ³ã‚»ãƒ«: å·¦å´ã«é…ç½®
   - ãƒ©ãƒ™ãƒ«: å…·ä½“çš„ãªå‹•è©ã‚’ä½¿ç”¨ï¼ˆã€ŒOKã€ã‚ˆã‚Šã€Œä¿å­˜ã€ã€Œå‰Šé™¤ã€ï¼‰

### UXã®å‘ä¸Š

1. **ç ´å£Šçš„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ç¢ºèª**
   - ãƒ€ãƒ–ãƒ«ãƒã‚§ãƒƒã‚¯: å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ãƒ•ã‚¡ã‚¤ãƒ«åç¢ºèªãªã©
   - é…å»¶: ãƒœã‚¿ãƒ³ã‚’æ•°ç§’é–“ç„¡åŠ¹åŒ–

```tsx
// ãƒ•ã‚¡ã‚¤ãƒ«åã®ç¢ºèª
const [confirmText, setConfirmText] = useState('');
const canDelete = confirmText === fileName;

<input
  value={confirmText}
  onChange={(e) => setConfirmText(e.target.value)}
  placeholder={`"${fileName}" ã‚’å…¥åŠ›`}
/>

<button disabled={!canDelete}>å‰Šé™¤</button>
```

2. **é©åˆ‡ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³**
   - ç ´å£Šçš„: ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
   - ç¢ºèª: ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹

3. **ã‚¿ã‚¤ãƒŸãƒ³ã‚°**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç›´å¾Œã«è¡¨ç¤º
   - è‡ªå‹•çš„ã«ã¯è¡¨ç¤ºã—ãªã„

### ã‚¨ãƒ©ãƒ¼å‡¦ç†

```tsx
function Dialog({ onConfirm }) {
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const handleConfirm = async () => {
    setIsLoading(true);
    setError(null);

    try {
      await onConfirm();
    } catch (err) {
      setError(err.message);
      setIsLoading(false);
      // ã‚¨ãƒ©ãƒ¼ã®å ´åˆã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã¯é–‹ã„ãŸã¾ã¾
      return;
    }

    setIsLoading(false);
    // æˆåŠŸæ™‚ã®ã¿é–‰ã˜ã‚‹
  };

  return (
    <div className="dialog">
      {/* ... */}
      {error && (
        <div className="alert alert-error">{error}</div>
      )}
      <button disabled={isLoading} onClick={handleConfirm}>
        {isLoading ? 'å‡¦ç†ä¸­...' : 'ç¢ºèª'}
      </button>
    </div>
  );
}
```

---

## é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

- **Modal**: ã‚ˆã‚Šæ±ç”¨çš„ãªã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤
- **Toast**: è»½é‡ãªé€šçŸ¥
- **Alert**: ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è­¦å‘Š

---

**æœ€çµ‚æ›´æ–°:** 2025-12-11
**Phase 4 Option D ã§å®Ÿè£…**
