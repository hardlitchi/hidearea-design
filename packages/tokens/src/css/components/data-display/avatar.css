/**
 * Avatar Component Styles
 * Design tokens: @hidearea-design/tokens
 * 
 * This CSS file defines the complete visual styling for the Avatar component.
 * All values reference design tokens (CSS custom properties) defined in
 * src/components/data-display/avatar.yaml
 */

/* ========================================
   Host & Container
   ======================================== */

:host {
  display: inline-block;
}

.container {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--component-avatar-size-md);
  height: var(--component-avatar-size-md);
  background: var(--component-avatar-background-default);
  color: var(--component-avatar-text-default);
  font-size: var(--component-avatar-font-size-md);
  font-weight: var(--font-weight-medium, 500);
  border-radius: var(--component-avatar-border-radius-circle);
  border: var(--component-avatar-border-width) solid var(--component-avatar-border-color);
  overflow: hidden;
  user-select: none;
  transition: opacity var(--component-avatar-hover-transition-duration) ease,
              transform var(--component-avatar-hover-transition-duration) ease;
}

/* ========================================
   Content Types
   ======================================== */

.image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.initials {
  text-transform: uppercase;
  font-size: inherit;
}

.icon {
  width: var(--component-avatar-icon-size-md);
  height: var(--component-avatar-icon-size-md);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ========================================
   Status Indicator
   ======================================== */

.status {
  position: absolute;
  bottom: var(--component-avatar-status-position-offset, 0);
  right: var(--component-avatar-status-position-offset, 0);
  width: var(--component-avatar-status-size-md);
  height: var(--component-avatar-status-size-md);
  border-radius: var(--border-radius-full);
  border: var(--component-avatar-status-border-width) solid var(--component-avatar-status-border-color);
  background: var(--component-avatar-status-background-offline);
}

/* ========================================
   Size Variants
   ======================================== */

:host([size="xs"]) .container {
  width: var(--component-avatar-size-xs);
  height: var(--component-avatar-size-xs);
  font-size: var(--component-avatar-font-size-xs);
}

:host([size="xs"]) .icon {
  width: var(--component-avatar-icon-size-xs);
  height: var(--component-avatar-icon-size-xs);
}

:host([size="xs"]) .status {
  width: var(--component-avatar-status-size-xs);
  height: var(--component-avatar-status-size-xs);
}

:host([size="sm"]) .container {
  width: var(--component-avatar-size-sm);
  height: var(--component-avatar-size-sm);
  font-size: var(--component-avatar-font-size-sm);
}

:host([size="sm"]) .icon {
  width: var(--component-avatar-icon-size-sm);
  height: var(--component-avatar-icon-size-sm);
}

:host([size="sm"]) .status {
  width: var(--component-avatar-status-size-sm);
  height: var(--component-avatar-status-size-sm);
}

:host([size="md"]) .container {
  width: var(--component-avatar-size-md);
  height: var(--component-avatar-size-md);
  font-size: var(--component-avatar-font-size-md);
}

:host([size="md"]) .icon {
  width: var(--component-avatar-icon-size-md);
  height: var(--component-avatar-icon-size-md);
}

:host([size="md"]) .status {
  width: var(--component-avatar-status-size-md);
  height: var(--component-avatar-status-size-md);
}

:host([size="lg"]) .container {
  width: var(--component-avatar-size-lg);
  height: var(--component-avatar-size-lg);
  font-size: var(--component-avatar-font-size-lg);
}

:host([size="lg"]) .icon {
  width: var(--component-avatar-icon-size-lg);
  height: var(--component-avatar-icon-size-lg);
}

:host([size="lg"]) .status {
  width: var(--component-avatar-status-size-lg);
  height: var(--component-avatar-status-size-lg);
}

:host([size="xl"]) .container {
  width: var(--component-avatar-size-xl);
  height: var(--component-avatar-size-xl);
  font-size: var(--component-avatar-font-size-xl);
}

:host([size="xl"]) .icon {
  width: var(--component-avatar-icon-size-xl);
  height: var(--component-avatar-icon-size-xl);
}

:host([size="xl"]) .status {
  width: var(--component-avatar-status-size-xl);
  height: var(--component-avatar-status-size-xl);
}

:host([size="2xl"]) .container {
  width: var(--component-avatar-size-2xl);
  height: var(--component-avatar-size-2xl);
  font-size: var(--component-avatar-font-size-2xl);
}

:host([size="2xl"]) .icon {
  width: var(--component-avatar-icon-size-2xl);
  height: var(--component-avatar-icon-size-2xl);
}

:host([size="2xl"]) .status {
  width: var(--component-avatar-status-size-2xl);
  height: var(--component-avatar-status-size-2xl);
}

/* ========================================
   Shape Variants (backward compatible)
   ======================================== */

:host([shape="square"]) .container,
:host([variant="square"]) .container {
  border-radius: var(--component-avatar-border-radius-square);
}

:host([shape="rounded"]) .container,
:host([variant="rounded"]) .container {
  border-radius: var(--component-avatar-border-radius-rounded);
}

:host([shape="circle"]) .container,
:host([variant="circle"]) .container {
  border-radius: var(--component-avatar-border-radius-circle);
}

/* ========================================
   Color Variants
   ======================================== */

:host([color="default"]) .container {
  background: var(--component-avatar-background-default);
  color: var(--component-avatar-text-default);
}

:host([color="primary"]) .container {
  background: var(--component-avatar-background-primary);
  color: var(--component-avatar-text-onColor);
}

:host([color="success"]) .container {
  background: var(--component-avatar-background-success);
  color: var(--component-avatar-text-onColor);
}

:host([color="warning"]) .container {
  background: var(--component-avatar-background-warning);
  color: var(--component-avatar-text-onColor);
}

:host([color="error"]) .container {
  background: var(--component-avatar-background-error);
  color: var(--component-avatar-text-onColor);
}

:host([color="info"]) .container {
  background: var(--component-avatar-background-info);
  color: var(--component-avatar-text-onColor);
}

/* ========================================
   Status Colors
   ======================================== */

:host([status="online"]) .status {
  background: var(--component-avatar-status-background-online);
}

:host([status="offline"]) .status {
  background: var(--component-avatar-status-background-offline);
}

:host([status="away"]) .status {
  background: var(--component-avatar-status-background-away);
}

:host([status="busy"]) .status {
  background: var(--component-avatar-status-background-busy);
}

/* ========================================
   Interactive State
   ======================================== */

:host([interactive]) .container {
  cursor: pointer;
  box-shadow: var(--component-avatar-shadow-default, 0 1px 3px 0 rgba(0, 0, 0, 0.1));
}

:host([interactive]:hover) .container {
  opacity: var(--component-avatar-hover-opacity);
  transform: scale(var(--component-avatar-hover-scale));
  box-shadow: var(--component-avatar-shadow-hover, 0 4px 6px -1px rgba(0, 0, 0, 0.1));
}

:host([interactive]:active) .container {
  transform: scale(0.95);
}

/* ========================================
   Accessibility & Motion
   ======================================== */

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .container {
    transition: none;
  }

  :host([interactive]:hover) .container {
    transform: none;
  }

  :host([interactive]:active) .container {
    transform: none;
  }
}
